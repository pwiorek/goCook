<form [formGroup]="form" class="form-container">
    <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name">
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Preparation time</mat-label>
        <input matInput formControlName="preparationTimeInMinutes" type="number">
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <div formArrayName="ingredients" class="ingredients-container">
        <h3>Ingredients</h3>
        <ol>
            <ng-container *ngFor="let ingredient of ingredients.controls; let i = index" >
                <li [formGroup]="ingredient">
                    <mat-form-field appearance="outline" class="ingredient__name">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name">
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="ingredient__quantity">
                        <mat-label>Quantity</mat-label>
                        <input matInput formControlName="quantity">
                    </mat-form-field>

                    <button mat-icon-button
                            type="button"
                            aria-label="Remove ingredient"
                            *ngIf="i > 1"
                            (click)="removeIngredient(i)">
                        <mat-icon>close</mat-icon>
                    </button>
                </li>
            </ng-container>
        </ol>

        <button mat-raised-button
                color="primary"
                type="button"
                (click)="addIngredient()"
        >Add ingredient</button>
    </div>
</form>